{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/followhud.js","webpack:///./src/scripts/followmanager.js","webpack:///./src/scripts/followme.js","webpack:///./src/scripts/settings.js","webpack:///./src/scripts/socketinfo.js","webpack:///./src/scripts/utils.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","FollowHud","app","html","data","leader","canvas","tokens","controlled","find","id","_id","length","isLeader","this","addStopFollowButton","follower","isFollowing","areFollowingEachother","addStartFollowButton","followerId","leaderId","button","getButton","click","async","ev","startFollowing","addSlash","getFollowerId","stopFollowing","removeSlash","tooltip","$","getIcon","getHudTopBottom","getHudColumn","prepend","append","slash","addClass","remove","FollowManager","token","movingToX","movingToY","newX","scene","grid","x","newY","y","game","user","isGM","update","socket","emit","MoveToken","tokenId","setFlag","StartFollow","getFlag","unsetFlag","StopFollow","undefined","firstTokenId","secondTokenId","Hooks","on","registerSettings","renderFollowHud","updateData","summonFollower","Settings","settings","register","scope","config","type","Number","default","choices","socketName","socketAction","flagScope","flag","findTokenById","placeables"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"modules/followme/scripts/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/scripts/followme.js\");\n","import { FollowManager } from \"./followmanager.js\";\r\nimport { Settings } from \"./settings.js\";\r\nimport { findTokenById } from \"./utils.js\";\r\n\r\n\r\nexport class FollowHud {\r\n\r\n    static renderFollowHud(app, html, data) {\r\n\r\n        let leader = canvas.tokens.controlled.find(t => t.id == data._id);\r\n        // let followerId = canvas.tokens.controlled[0].id;\r\n        // let leaderId = data._id;\r\n\r\n        // if exactly 1 selected and hud is from any leader then show the stop following button\r\n        if (canvas.tokens.controlled.length == 1 && FollowManager.isLeader(leader.id)) {\r\n            this.addStopFollowButton(html, leader.id, true);\r\n        }\r\n\r\n        // if exactly 2 is selected (follower and leader)\r\n        else if (canvas.tokens.controlled.length == 2) {\r\n            // if only two are selected, the follower is the token who isnt the leader\r\n            let follower = canvas.tokens.controlled.find(t => t.id != leader.id);\r\n\r\n\r\n            // if the pair is linked - show the stop follow button\r\n            if (FollowManager.isFollowing(follower.id, leader.id) && !FollowManager.isFollowing(leader.id, follower.id)) {\r\n                this.addStopFollowButton(html, leader.id);\r\n            }\r\n            // if the pair is not linked AND the leader is not already a follower - show the mount button\r\n            else {\r\n                if (!FollowManager.isLeader(leader.id)) {\r\n                    if (!FollowManager.areFollowingEachother(leader.id, follower.id)) {\r\n                        this.addStartFollowButton(html, follower.id, leader.id);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Adds the follow me button to the token HUD\r\n     * @param {Object} html - The source HTML\r\n     * @param {Object} data - The source Data\r\n     * @param {boolean} hasSlash - If true, include the red slash over the icon\r\n     */\r\n    static addStartFollowButton(html, followerId, leaderId) {\r\n        let leader = findTokenById(leaderId);\r\n        let follower = findTokenById(followerId);\r\n        let button = this.getButton(html, `Have ${follower.name} start following ${leader.name}`);\r\n\r\n        button.find('i').click(async (ev) => {\r\n            FollowManager.startFollowing(followerId, leaderId);\r\n            this.addSlash(button);\r\n        });\r\n    }\r\n\r\n    static addStopFollowButton(html, leaderId) {\r\n        let leader = findTokenById(leaderId);\r\n        let follower = findTokenById(FollowManager.getFollowerId(leaderId));\r\n        let button = this.addSlash(this.getButton(html, `Stop ${follower.name} from following ${leader.name}`));\r\n\r\n        button.find('i').click(async (ev) => {\r\n            FollowManager.stopFollowing(leaderId);\r\n            this.removeSlash(button);\r\n        });\r\n    }\r\n\r\n    static getButton(html, tooltip) {\r\n        let button = $(`<div class=\"control-icon followme\" title=\"${tooltip}\"><i class=\"fas ${Settings.getIcon()}\"></i></div>`);\r\n        if (Settings.getHudTopBottom() == 'top') {\r\n            html.find(Settings.getHudColumn()).prepend(button);\r\n        } else {\r\n            html.find(Settings.getHudColumn()).append(button);\r\n        }\r\n\r\n        return button;\r\n    }\r\n\r\n    /**\r\n     * Adds a slash icon on top of the follow icon\r\n     * @param {Object} button - The HUD button to add a slash on top of\r\n     */\r\n    static addSlash(button) {\r\n        let slash = $(`<i class=\"fas fa-slash\" style=\"position: absolute; color: tomato\"></i>`);\r\n        button.addClass(\"fa-stack\");\r\n        button.find('i').addClass('fa-stack-1x');\r\n        slash.addClass('fa-stack-1x');\r\n        button.append(slash);\r\n        return button;\r\n    }\r\n\r\n    /**\r\n     * Removes the slash icon from the button\r\n     * @param {Object} button - The mount up button\r\n     */\r\n    static removeSlash(button) {\r\n        let slash = button.find('i')[1];\r\n        slash.remove();\r\n        return button;\r\n    }\r\n}","import { socketAction, socketName } from \"./socketinfo.js\";\r\nimport { findTokenById, flag, flagScope } from \"./utils.js\";\r\n\r\nexport class FollowManager {\r\n\r\n    static async summonFollower(token, movingToX, movingToY) {\r\n        if (this.isLeader(token._id)) {\r\n            let leader = findTokenById(token._id);\r\n            let follower = findTokenById(this.getFollowerId(leader.id));\r\n            let grid = canvas.scene.data.grid;\r\n\r\n            let newX = leader.x;\r\n            let newY = leader.y;\r\n\r\n\r\n\r\n            if (game.user.isGM) {\r\n                await follower.update({\r\n                    x: newX,\r\n                    y: newY\r\n                });\r\n            } else {\r\n                game.socket.emit(socketName, {\r\n                    mode: socketAction.MoveToken,\r\n                    tokenId: follower.id,\r\n                    x: newX,\r\n                    y: newY\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    static async startFollowing(followerId, leaderId) {\r\n        if (game.user.isGM) {\r\n            let leader = findTokenById(leaderId);\r\n            let follower = findTokenById(followerId);\r\n            await leader.setFlag(flagScope, flag.follower, followerId);\r\n            await follower.setFlag(flagScope, flag.leader, leaderId);\r\n        } else {\r\n            game.socket.emit(socketName, {\r\n                mode: socketAction.StartFollow,\r\n                followerId: followerId,\r\n                leaderId: leaderId\r\n            });\r\n        }\r\n    }\r\n\r\n    static async stopFollowing(leaderId) {\r\n        if (game.user.isGM) {\r\n            let leader = findTokenById(leaderId);\r\n            let follower = findTokenById(leader.getFlag(flagScope, flag.follower));\r\n            await leader.unsetFlag(flagScope, flag.follower);\r\n            await follower.unsetFlag(flagScope, flag.leader);\r\n        } else {\r\n            game.socket.emit(socketName, {\r\n                mode: socketAction.StopFollow,\r\n                followerId: leaderId\r\n            });\r\n        }\r\n    }\r\n\r\n    static getFollowerId(leaderId) {\r\n        let token = findTokenById(leaderId);\r\n        if (token) {\r\n            return token.getFlag(flagScope, flag.follower) || undefined;\r\n        } else return undefined;\r\n    }\r\n\r\n    static isFollower(tokenId) {\r\n        let token = findTokenById(tokenId);\r\n        if (token) {\r\n            return token.getFlag(flagScope, flag.leader) != undefined;\r\n        } else return false;\r\n    }\r\n\r\n    static isLeader(tokenId) {\r\n        let token = findTokenById(tokenId);\r\n        if (token) {\r\n            return token.getFlag(flagScope, flag.follower) != undefined;\r\n        } else return false;\r\n    }\r\n\r\n    static isFollowing(followerId, leaderId) {\r\n        let token = findTokenById(followerId);\r\n        if (token) {\r\n            return token.getFlag(flagScope, flag.leader) == leaderId;\r\n        } else return false;\r\n    }\r\n\r\n    static areFollowingEachother(firstTokenId, secondTokenId) {\r\n        return this.isFollowing(firstTokenId, secondTokenId) || this.isFollowing(secondTokenId, firstTokenId);\r\n    }\r\n}","import { FollowHud } from \"./followhud.js\";\r\nimport { FollowManager } from \"./followmanager.js\";\r\nimport { Settings } from \"./settings.js\";\r\nimport { socketAction, socketName } from \"./socketinfo.js\";\r\nimport { findTokenById } from \"./utils.js\";\r\n\r\nHooks.on('ready', () => {\r\n    Settings.registerSettings();\r\n\r\n    game.socket.on(socketName, data => {\r\n        if (game.user.isGM) {\r\n            switch (data.mode) {\r\n                case socketAction.StartFollow:\r\n                    FollowManager.startFollowing(data.followerId, data.leaderId);\r\n                    break;\r\n                case socketAction.StopFollow:\r\n                    FollowManager.stopFollowing(data.followerId);\r\n                    break;\r\n                case socketAction.MoveToken:\r\n                    findTokenById(data.tokenId).update({\r\n                        x: data.x,\r\n                        y: data.y\r\n                    });\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\nHooks.on('renderTokenHUD', (app, html, data) => {\r\n    FollowHud.renderFollowHud(app, html, data);\r\n});\r\n\r\nHooks.on('preUpdateToken', (scene, token, updateData) => {\r\n    if (updateData.x || updateData.y) FollowManager.summonFollower(token, updateData.x, updateData.y);\r\n});","export class Settings {\r\n\r\n\r\n\r\n\r\n    static getIcon() {\r\n        return 'fa-shoe-prints';\r\n    }\r\n\r\n    static getHudColumn() {\r\n        return game.settings.get('followme', 'column') == 0 ? '.col.left' : '.col.right';\r\n    }\r\n\r\n    static getHudTopBottom() {\r\n        return game.settings.get('followme', 'topbottom') == 0 ? 'top' : 'bottom';\r\n    }\r\n\r\n    static registerSettings() {\r\n\r\n        game.settings.register('followme', 'column', {\r\n            name: 'HUD Column',\r\n            scope: 'world',\r\n            config: true,\r\n            type: Number,\r\n            default: 0,\r\n            choices: ['Left', 'Right']\r\n        });\r\n\r\n        game.settings.register('followme', 'topbottom', {\r\n            name: 'HUD Top/Bottom',\r\n            scope: 'world',\r\n            config: true,\r\n            type: Number,\r\n            default: 0,\r\n            choices: ['Top', 'Bottom']\r\n        });\r\n    }\r\n\r\n}","export const socketName = 'module.followme';\r\n\r\nexport const socketAction = {\r\n    StartFollow: 0,\r\n    StopFollow: 1,\r\n    MoveToken: 2\r\n};","\r\nexport const flagScope = 'followme';\r\nexport const socketName = \"module.followme\";\r\n\r\nexport const flag = {\r\n    leader: 'leader',\r\n    follower: 'follower'\r\n};\r\n\r\n/**\r\n * Returns a token object from the canvas based on the ID value\r\n * @param {String} tokenId - The ID of the token to look for\r\n */\r\nexport function findTokenById(tokenId) {\r\n    return canvas.tokens.placeables.find(t => t.id == tokenId);\r\n}"],"sourceRoot":""}